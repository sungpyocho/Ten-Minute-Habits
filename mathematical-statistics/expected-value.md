# Expected Value

### 기대값이란?

확률변수의 기댓값(the expected value of a random variable)은 확률변수가 "여러 번의 시행에서 평균적으로 가질 것이라고 기대되는 값"을 의미한다. 즉, 장기적으로 어떤 값을 평균적으로 가질 것인지를 뜻한다. 확률의 표현을 빌려 설명하면, 기댓값은 확률분포의 무게중심을 나타낸다고도 할 수 있다.

> **정리 1.**\
> $$X$$가 확률 $$p(x)$$를 가지는 이산형 확률변수라고 하자. $$X$$의 기댓값 $$E(X)$$은 모든 구간에서 확률변수와 확률을 곱해 더한 값이다.
>
> &#x20;$$E(X) = x_1p_1 + x_2p_2 + ... + x_np_n = \Sigma_{i=1}^{n}x_ip_i = \Sigma_{i=1}^{n}x_iP(X=x_i)$$

확률 $$p(x)$$가 모집단 분포를 정확하게 특징짓는다면, 확률변수의 기댓값은 모집단의 평균이 된다. 즉,&#x20;

$$
E(X) = \mu
$$

예를 들어 생각해 보자. 주사위 눈금을 확률변수 X라고 한다면, X의 기댓값은 무엇일까? 기댓값을 구하기 전에, 주사위 눈금(확률변수)가 가질 수 있는 값과 그 확률을 구해보자. 주사위 눈금은 1부터 6까지이며, 각각이 나올 확률은 1/6이다.

<table data-full-width="true"><thead><tr><th></th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>합</th></tr></thead><tbody><tr><td>P(X)</td><td>1/6</td><td>1/6</td><td>1/6</td><td>1/6</td><td>1/6</td><td>1/6</td><td>1</td></tr></tbody></table>

$$E(X) = \sum_x xp(x)$$가 확률분포 $$p(x)$$의 평균이라는 것을 보이기 위해서 실험이 600만번 실행되었다고 가정하자. 그 결과, 대락 X=1이 백만 번, X=2가 백만 번, ..., X=6이 백만번이 나왔다고 하자. X의 평균을 구하려면, 6백만 번의 관측을 평균한다.

$$
\begin{align*}
\mu \approx \frac{\Sigma_{i=1}^{n}x_i}{n} &= \frac{(1,000,000)(1) + (1,000,000)(2) + (1,000,000)(3) + (1,000,000)(4) + (1,000,000)(5) + (1,000,000)(6)}{6,000,000} \\
&=(0)(1/6) + (1)(1/6) + (2)(1/6) + (3)(1/6) + (4)(1/6) + (5)(1/6) + (6)(1/6) \\
&= \sum_{x=0}^{6}xp(x)=3.5
\end{align*}
$$

따라서 기댓값은 평균의 정의와 부합하고, 주사위 눈을 던졌을 때의 확률분포의 중심이라고 직관적으로 생각되는 3.5와 동일한 값을 가진다.

### 이산형 확률변수의 기댓값에서 연속형 확률변수의 기댓값 정의를 도출하기

$$
E(X) = \Sigma_{i=1}^{n}x_iP(X=x_i)
$$

이산형 확률변수의 기댓값의 정의는 위 식이라는 것을 지금까지 알아보았다. 그렇다면 연속형 확률변수의 기댓값은 어떻게 정의할 수 있을까? 이산에서 연속으로의 전환은 확률변수의 값을 무한히 촘촘하게 만들고, 각 값에 대한 확률을 확률 밀도 함수로 대체한다.&#x20;

먼저 이산형 확률변수 X의 값 $$x_i$$를 연속적인 구간으로 만들기 위해, 각 $$x_i$$ 주위에 아주 작은 구간을 설정하고, 각 구간의 평균값을 $$y_i$$라고 한다. 따라서 새로운 확률변수 Y를 설정한다. Y는 이산형 확률변수이고, $$x_1, ..., x_n$$의 값을 가진다고 가정한다. 이 때 $$x$$는 a와 b를 n개로 쪼갠 각 구간의 중심값이다. 즉, $$x_1$$은 $$a$$와 $$a + {(b-a) \over n}$$의 중심값이며, $$x_n$$은 $$a + {(n-1)(b-a) \over n}$$와 $$b$$의 중심값이다. 그렇다면 다음 식이 성립한다.

$$
P(Y=x_1) = P(a < X \leq a + {(b-a)\over n}) \simeq f(x_1) \cdot {(b-a)\over n}
$$

세 번째 항의 의미는 두 번째 항의 면적을 구하는 것으로, 세로 x 가로를 뜻한다. 그렇다면 Y의 기댓값은 이산형 확률변수의 기댓값의 정의에 의해 다음과 같이 표현할 수 있다.

$$
E(Y) \simeq \Sigma_{k=1}^{n}x_kf(x_k){(b-a)\over n}
$$

이 때 n이 무한히 커진다면, 이산적인 합산을 연속적인 적분으로 변환할 수 있다.

$$
E(Y) = \Sigma_{k=1}^{n}x_kf(x_k){(b-a)\over n} = \int_a^bxf(x)dx
$$

이 값은 E(X)에 근접해진다. 따라서, 연속형 확률변수 X의 기댓값은

$$
E(X) = \int_{-\infty}^{\infty}xf(x)dx
$$

**연습문제**

> $$
> f(x) = 2x(0\leq x \leq 1);0(x>0, x<0)
> $$
>
> X의 기댓값은?

$$
E(X) = \int_0^1x \cdot 2x dx = \int_0^1 2x^2 dx = {2 \over 3}{(1^3 - 0^3)} = {2 \over 3}
$$

따라서 이 분포의 중심값은 2/3이라고 할 수 있다.

### 기댓값의 주요 특성

$$
\begin{align*} E(a) &= a \\ E(aX+b) &= aE(X) + b \\ E(aX+bY) &= aE(X) + bE(Y) \end{align*}
$$

연속확률변수의 기댓값의 정의(적분 포함식)를 사용해 전개해주면 금방 알 수 있다. 세 번째 식이 전개과정이 약간 복잡하므로 자세히 살펴보자.

$$
\begin{align*} E(aX+bY) &= \int_{-\infty}^{\infty}\int_{-\infty}^{\infty}(ax+by)f(x,y)dxdy \\ &=\int_{-\infty}^{\infty}\int_{-\infty}^{\infty}axf(x,y)dxdy + \int_{-\infty}^{\infty}\int_{-\infty}^{\infty}byf(x,y)dxdy \\ \end{align*}
$$

# Particle Filter



### 파티클 필터가 겪는 문제들

#### 1. 퇴화 현상 (Degeneracy Problem)

&#x20; 알고리즘 1을 사용할 경우, 몇 번의 반복 이후에는 한 파티클의 가중치가 거의 1에 가까워지고 다른 모든 파티클의 가중치는 거의 0이 된다. 이 현상을 퇴화 현상이라고 한다. 퇴화 현상으로 인해 발생하는 문제점은 두 가지이다. 하나는 거의 모든 계산 노력이 추정에 거의 기여하지 않는 파티클을 계산하는 데에 사용된다는 것이다. 다른 하나는 효과적인 파티클이 오직 하나밖에 없다는 것이다.&#x20;

&#x20; 특히 후자는 필터의 성능과 표현력을 크게 제한한다. 먼저 성능 하락은 파티클 필터가 발산하기 때문에 일어난다. 발산은 상태 추정 오류가 시간이 지남에 따라 용납할 수 없을 정도로 크게 증가했을 때 발생한다. 발산하는 단계에 들어서면, 필터는 진짜 상태를 따라가거나 추정 오류를 용납할 수 있을 정도로 줄이는 데 실패한다. 다음으로 표현력 제한은 하나의 파티클이 임의의 형태의 확률 밀도 함수가 아닌, 상태 공간에서의 한 점만을 표현할 수 있기 때문에 발생한다.

&#x20; 이 문제를 해결하기 위한 방법은 리샘플링이다. 업데이트 단계 직후에 수행되는 리샘플링에서, 새로운 파티클은 가중치를 지닌 파티클 집합에서 무작위로 선택된다. 파티클을 선택할 확률은 그 파티클의 가중치에 비례한다. 전체 파티클의 수는 변하지 않는다. 높은 가중치를 지닌 파티클은 중복된 가능성이 높고, 낮은 가중치를 지닌 파티클은 제거될 가능성이 높다. 리샘플링 후에는 일반적으로 가중치가 $$1/N_S$$로 설정된다.

#### 2. 샘플 빈곤화 (Sample Impoverishment)

&#x20; 리샘플링을 통해 퇴화 현상을 해결하면 동일한 가중치를 가진 여러 인스턴스가 생성된다. 중요도 밀도(importance density)로 가장 일반적인 $$p(x^i_k | x^i_{k-1})$$ 을 고른다고 가정하면, 예측 단계는 결정론적 부분과 확률론적 부분을 포함한다. 결과적으로, 동일한 상태의 파티클은 예측 단계 동안 다양화 될 것이다. 만약 프로세스 모델의 노이즈 분산이 매우 낮다면, 샘플은 거의 다양화되지 않는다. 이 경우, 몇 번의 반복 끝에 모든 파티클이 상태 공간에서 단일 지점으로 수렴하게 된다. 그러면 모든 $$N_s$$ 파티클이 동일한 상태를 나타내게 된다. 필터가 사실상 하나의 파티클로만 이루어지게 되는 것이다. 이를 바로 샘플 빈곤화라고 한다. 퇴화 현상과 마찬가지로, 필터는 성능과 표현력을 잃고, 발산하게 된다.

&#x20; 일반적으로 프로세스 모델의 노이즈를 충분한 양으로 설정하면 샘플 빈곤화를 막을 수 있다. 뒤에서 해결책에 대해 더욱 자세히 설명할 것이다.

#### 3. 발산 (Divergence)

실제 문제에 파티클 필터를 사용할 때, 발산 위험을 항상 고려해야 한다.&#x20;

&#x20;&#x20;

